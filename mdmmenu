local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({Name = "by shakaSilentAim", HidePremium = false, SaveConfig = true, ConfigFolder = "FarmConfig"})

local players = game:GetService("Players")
local runService = game:GetService("RunService")

local nameSize = 27 
local highlightColor = Color3.new(1, 0, 0)
local fillTransparency = 1 
local outlineTransparency = 0 

local HeadSize = 20 
local IsHitboxActive = false 
local IsTeamCheckEnabled = false
local isFarmActive = false

local function createESPName(player)
    local character = player.Character or player.CharacterAdded:Wait()
    if character:FindFirstChild("ESPName") then return end
    local billboardGui = Instance.new("BillboardGui")
    billboardGui.Name = "ESPName"
    billboardGui.Adornee = character:WaitForChild("Head")
    billboardGui.Size = UDim2.new(nameSize / 10, 0, 2, 0)
    billboardGui.StudsOffset = Vector3.new(0, 3, 0)
    billboardGui.AlwaysOnTop = true

    local nameLabel = Instance.new("TextLabel", billboardGui)
    nameLabel.Text = player.Name
    nameLabel.Size = UDim2.new(1, 0, 1, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.TextColor3 = Color3.new(1, 1, 1)
    nameLabel.TextStrokeTransparency = 0.2
    nameLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    nameLabel.Font = Enum.Font.SourceSansBold
    nameLabel.TextSize = nameSize

    billboardGui.Parent = character
end

local function applyHighlight(character)
    if character:FindFirstChildOfClass("Highlight") then return end
    local highlight = Instance.new("Highlight")
    highlight.FillColor = highlightColor
    highlight.FillTransparency = fillTransparency
    highlight.OutlineTransparency = outlineTransparency
    highlight.OutlineColor = highlightColor
    highlight.Adornee = character
    highlight.Parent = character
end

local function toggleHitbox()
    if IsHitboxActive then
        for _, player in ipairs(players:GetPlayers()) do
            if player ~= players.LocalPlayer then
                local character = player.Character
                local humanoidRootPart = character and character:FindFirstChild("HumanoidRootPart")
                if humanoidRootPart then
                    humanoidRootPart.Size = Vector3.new(HeadSize, HeadSize, HeadSize)
                    humanoidRootPart.BrickColor = BrickColor.new("Really blue")
                    humanoidRootPart.Material = Enum.Material.Neon
                    humanoidRootPart.CanCollide = false
                    humanoidRootPart.Transparency = 0.8
                end
            end
        end
    else
        for _, player in ipairs(players:GetPlayers()) do
            local humanoidRootPart = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
            if humanoidRootPart then
                humanoidRootPart.Size = Vector3.new(2, 2, 2)
                humanoidRootPart.BrickColor = BrickColor.new("Bright blue")
                humanoidRootPart.Material = Enum.Material.SmoothPlastic
                humanoidRootPart.Transparency = 1
            end
        end
    end
end

runService.RenderStepped:Connect(function()
    if IsHitboxActive then
        toggleHitbox()
    end
end)

players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        if isESPNameActive then
            createESPName(player)
        end
        if isHighlightActive then
            applyHighlight(character)
        end
    end)
end)

local function teleportarJogadorAleatoriamente()
    local stems = {}
    for _, plantaIlegal in pairs(game.Workspace:GetDescendants()) do
        if plantaIlegal.Name == "PlantaIlegal" then
            local stem = plantaIlegal:FindFirstChild("Stem")
            if stem then
                table.insert(stems, stem)
            end
        end
    end

    if #stems > 0 then
        local stemAleatorio = stems[math.random(1, #stems)]
        if stemAleatorio and players.LocalPlayer.Character then
            players.LocalPlayer.Character:SetPrimaryPartCFrame(stemAleatorio.CFrame)
        end
    else
        print("Nenhum 'Stem' encontrado.")
    end
end

local function segurarTeclaE()
    local interactionKey = "E"
    local interactionDuration = 17
    local virtualInputManager = game:GetService("VirtualInputManager")

    for _ = 1, interactionDuration do
        virtualInputManager:SendKeyEvent(true, interactionKey, false, game)
        wait(1)
    end
    virtualInputManager:SendKeyEvent(false, interactionKey, false, game)
end

local function loopFarm()
    while isFarmActive do
        teleportarJogadorAleatoriamente()
        segurarTeclaE()
        wait(1)
    end
end

local FarmTab = Window:MakeTab({
    Name = "Farm",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

FarmTab:AddToggle({
    Name = "auto drogas",
    Default = false,
    Callback = function(Value)
        isFarmActive = Value
        if isFarmActive then
            spawn(loopFarm)
        end
    end
})

FarmTab:AddButton({
    Name = "TP ilegal",
    Callback = function()
        players.LocalPlayer.Character:SetPrimaryPartCFrame(CFrame.new(1129.86682, 18.493576, -2082.05591))
    end
})

local PVPTab = Window:MakeTab({
    Name = "Player",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local isESPNameActive = false
PVPTab:AddToggle({
    Name = "ESP Name",
    Default = false,
    Callback = function(Value)
        isESPNameActive = Value
        if isESPNameActive then
            for _, player in ipairs(players:GetPlayers()) do
                createESPName(player)
            end
        else
            for _, player in ipairs(players:GetPlayers()) do
                local character = player.Character
                local espName = character and character:FindFirstChild("ESPName")
                if espName then
                    espName:Destroy()
                end
            end
        end
    end
})

PVPTab:AddSlider({
    Name = "Slider ESPname",
    Min = 15,
    Max = 34,
    Default = 27,
    Color = Color3.fromRGB(255, 255, 255),
    Increment = 1,
    ValueName = "Tamanho",
    Callback = function(Value)
        nameSize = Value
    end
})

local isHighlightActive = false
PVPTab:AddToggle({
    Name = "ESP",
    Default = false,
    Callback = function(Value)
        isHighlightActive = Value
        if isHighlightActive then
            for _, player in ipairs(players:GetPlayers()) do
                applyHighlight(player.Character)
            end
        else
            for _, player in ipairs(players:GetPlayers()) do
                local character = player.Character
                local highlight = character and character:FindFirstChildOfClass("Highlight")
                if highlight then
                    highlight:Destroy()
                end
            end
        end
    end
})

PVPTab:AddToggle({
    Name = "Hitbox",
    Default = false,
    Callback = function(Value)
        IsHitboxActive = Value
    end
})

PVPTab:AddSlider({
    Name = "Slider Hitbox",
    Min = 5,
    Max = 20,
    Default = 20,
    Color = Color3.fromRGB(255, 255, 255),
    Increment = 1,
    ValueName = "Tamanho",
    Callback = function(Value)
        HeadSize = Value
    end
})

local TeleportTab = Window:MakeTab({
    Name = "Teleports",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local teleports = {
    {"Teleport Praça", CFrame.new(-291.579559, 3.26299787, 342.192535)},
    {"Teleport Gás", CFrame.new(-469.959015, 3.25349784, -54.3936005)},
    {"Teleport HP", CFrame.new(-543.439941, 3.26299858, 645.16864)},
    {"Teleport Gari", CFrame.new(-518.672852, 3.16749811, -1.16962147)},
    {"Teleport PM", CFrame.new(-980.181458, 2.27553082, 467.080536)},
    {"Teleport PRF", CFrame.new(-2165.34546, 3.01715183, -737.137878)},
    {"Teleport Mineração", CFrame.new(201.932144, 2.76136589, 145.50531)},
    {"Teleport Mecânica", CFrame.new(-180.608261, 3.29813337, -532.4151)},
    {"Teleport Fazenda", CFrame.new(817.243225, 3.26249814, -87.316864)}
}

for _, tp in ipairs(teleports) do
    TeleportTab:AddButton({
        Name = tp[1],
        Callback = function()
            players.LocalPlayer.Character:SetPrimaryPartCFrame(tp[2])
        end
    })
end

OrionLib:Init()
